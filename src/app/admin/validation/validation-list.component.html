<!--Validation-->
<div class="container">
  <div class="row">
    <div class="form-group col-xs-12">
      <button id="addButton" class="btn button-primary" [routerLink]="['new'] ">Add</button>
    </div>
  </div>
</div>

<parentFilterAndPaging #parentFilterAndPagingRef [paginationData]="paginationData" [query]="query" [filterType]="filterType"
  [fieldFilterModel]="fieldFilterModel" [filterValue]="filterValue" (onListClicked)="getList()" (onPageChanged)="pageChanged($event)"
  (onUpdatingSort)="updateSort($event.value)" (onUpdatingFilter)="updateFilter($event)">
  <!--table-->
  <div tableToInject class="table-responsive">
    <table class="table table-striped table-hover table-baddressed">
      <thead class="thead-default">
        <tr>
          <!--actions-->
          <th style="min-width: 100px;">
            Actions
          </th>

          <!--id-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('id')">
              {{ formMetaData.properties.id['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'id'" [class.glyphicon-arrow-up]="query.orderBy === 'id desc'"></i>
            </button>
          </th>

          <!--afterDate-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('afterDate')">
              {{ formMetaData.properties.afterDate['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'afterDate'" [class.glyphicon-arrow-up]="query.orderBy === 'afterDate desc'"></i>
            </button>
          </th>

          <!--age-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('age')">
              {{ formMetaData.properties.age['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'age'" [class.glyphicon-arrow-up]="query.orderBy === 'age desc'"></i>
            </button>
          </th>

          <!--beforeDate-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('beforeDate')">
              {{ formMetaData.properties.beforeDate['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'beforeDate'" [class.glyphicon-arrow-up]="query.orderBy === 'beforeDate desc'"></i>
            </button>
          </th>

          <!--containsDPT-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('containsDPT')">
              {{ formMetaData.properties.containsDPT['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'containsDPT'" [class.glyphicon-arrow-up]="query.orderBy === 'containsDPT desc'"></i>
            </button>
          </th>

          <!--createdBy-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('createdBy')">
              {{ formMetaData.properties.createdBy['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'createdBy'" [class.glyphicon-arrow-up]="query.orderBy === 'createdBy desc'"></i>
            </button>
          </th>

          <!--createdDate-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('createdDate')">
              {{ formMetaData.properties.createdDate['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'createdDate'" [class.glyphicon-arrow-up]="query.orderBy === 'createdDate desc'"></i>
            </button>
          </th>

          <!--creditCard-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('creditCard')">
              {{ formMetaData.properties.creditCard['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'creditCard'" [class.glyphicon-arrow-up]="query.orderBy === 'creditCard desc'"></i>
            </button>
          </th>

          <!--date-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('date')">
              {{ formMetaData.properties.date['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'date'" [class.glyphicon-arrow-up]="query.orderBy === 'date desc'"></i>
            </button>
          </th>

          <!--email-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('email')">
              {{ formMetaData.properties.email['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'email'" [class.glyphicon-arrow-up]="query.orderBy === 'email desc'"></i>
            </button>
          </th>

          <!--integer-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('integer')">
              {{ formMetaData.properties.integer['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'integer'" [class.glyphicon-arrow-up]="query.orderBy === 'integer desc'"></i>
            </button>
          </th>

          <!--isActive-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('isActive')">
              {{ formMetaData.properties.isActive['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'isActive'" [class.glyphicon-arrow-up]="query.orderBy === 'isActive desc'"></i>
            </button>
          </th>

          <!--phone-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('phone')">
              {{ formMetaData.properties.phone['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'phone'" [class.glyphicon-arrow-up]="query.orderBy === 'phone desc'"></i>
            </button>
          </th>

          <!--startsWithDPT-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('startsWithDPT')">
              {{ formMetaData.properties.startsWithDPT['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'startsWithDPT'" [class.glyphicon-arrow-up]="query.orderBy === 'startsWithDPT desc'"></i>
            </button>
          </th>

          <!--string-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('string')">
              {{ formMetaData.properties.string['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'string'" [class.glyphicon-arrow-up]="query.orderBy === 'string desc'"></i>
            </button>
          </th>

          <!--uid-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('uid')">
              {{ formMetaData.properties.uid['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'uid'" [class.glyphicon-arrow-up]="query.orderBy === 'uid desc'"></i>
            </button>
          </th>

          <!--updatedBy-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('updatedBy')">
              {{ formMetaData.properties.updatedBy['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'updatedBy'" [class.glyphicon-arrow-up]="query.orderBy === 'updatedBy desc'"></i>
            </button>
          </th>

          <!--updatedDate-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('updatedDate')">
              {{ formMetaData.properties.updatedDate['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'updatedDate'" [class.glyphicon-arrow-up]="query.orderBy === 'updatedDate desc'"></i>
            </button>
          </th>

          <!--url-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('url')">
              {{ formMetaData.properties.url['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'url'" [class.glyphicon-arrow-up]="query.orderBy === 'url desc'"></i>
            </button>
          </th>

          <!--zip-->
          <th>
            <button class="btn btn-default" (click)="onColumnHeaderClicked('zip')">
              {{ formMetaData.properties.zip['x-ncg'].label }}
              <i class="glyphicon" [class.glyphicon-arrow-down]="query.orderBy === 'zip'" [class.glyphicon-arrow-up]="query.orderBy === 'zip desc'"></i>
            </button>
          </th>

        </tr>
      </thead>

      <tbody>
        <!--rows-->
        <tr *ngFor="let item of listWithCount?.list">
          <!--actions-->
          <td>
            <button id="editButton" (click)="edit(item)" class="btn btn-sm btn-primary" [attr.aria-label]="edit">
              <i class="fa fa-edit"></i>
            </button>
            <button id="deleteButton" (click)="delete(item[keyName])" class="btn btn-sm btn-danger" [attr.aria-label]="delete">
              <i class="fa fa-remove"></i>
            </button>
          </td>
          <!--id-->
          <td>
            {{ item.id }}
          </td>
          <!--afterDate-->
          <td>
            {{ item.afterDate | date:"MM/dd/yyyy" }}
          </td>
          <!--age-->
          <td>
            {{ item.age }}
          </td>
          <!--beforeDate-->
          <td>
            {{ item.beforeDate | date:"MM/dd/yyyy" }}
          </td>
          <!--containsDPT-->
          <td>
            {{ item.containsDPT }}
          </td>
          <!--createdBy-->
          <td>
            {{ item.createdBy }}
          </td>
          <!--createdDate-->
          <td>
            {{ item.createdDate | date:"MM/dd/yyyy" }}
          </td>
          <!--creditCard-->
          <td>
            {{ item.creditCard }}
          </td>
          <!--date-->
          <td>
            {{ item.date | date:"MM/dd/yyyy" }}
          </td>
          <!--email-->
          <td>
            {{ item.email }}
          </td>
          <!--integer-->
          <td>
            {{ item.integer }}
          </td>
          <!--isActive-->
          <td>
            {{ item.isActive }}
          </td>
          <!--phone-->
          <td>
            {{ item.phone }}
          </td>
          <!--startsWithDPT-->
          <td>
            {{ item.startsWithDPT }}
          </td>
          <!--string-->
          <td>
            {{ item.string }}
          </td>
          <!--uid-->
          <td>
            {{ item.uid }}
          </td>
          <!--updatedBy-->
          <td>
            {{ item.updatedBy }}
          </td>
          <!--updatedDate-->
          <td>
            {{ item.updatedDate | date:"MM/dd/yyyy" }}
          </td>
          <!--url-->
          <td>
            {{ item.url }}
          </td>
          <!--zip-->
          <td>
            {{ item.zip }}
          </td>
        </tr>
      </tbody>

      <!--footer-->
      <tfoot class="thead-default">
        <tr>
          <th>Actions</th>
          <th>Id</th>
          <th>After Date</th>
          <th>Age</th>
          <th>Before Date</th>
          <th>Contains Dpt</th>
          <th>Created By</th>
          <th>Created Date</th>
          <th>Credit Card</th>
          <th>Date</th>
          <th>Email</th>
          <th>Integer</th>
          <th>Is Active</th>
          <th>Phone</th>
          <th>Starts With Dpt</th>
          <th>String</th>
          <th>Uid</th>
          <th>Updated By</th>
          <th>Updated Date</th>
          <th>Url</th>
          <th>Zip</th>
        </tr>
      </tfoot>
    </table>
    <div>
      <label id='itemsCountLabel'>{{ listWithCount?.count }}</label> items
    </div>
  </div>
</parentFilterAndPaging>

<pagination class="pagination-sm" [totalItems]="paginationData.itemCount" [(ngModel)]="paginationData.currentPage" [maxSize]="paginationData.maxSize"
  [boundaryLinks]="paginationData.isBoundaryLinks" [rotate]="paginationData.isRotate" (pageChanged)="pageChanged($event)" (numPages)="numPagesUpdated($event)"
  [itemsPerPage]="query.top"></pagination>
